<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<script type="text/javascript">
function toGoogle()
{
let param = document.getElementById("searchKey").value
window.open("https://www.google.com/search?q=" + param, "_blank")
}

function toBing()
{
let param = document.getElementById("searchKey").value
window.open("https://cn.bing.com/search?q=" + param, "_blank")
}

function toBaidu()
{
let param = document.getElementById("searchKey").value
window.open("https://www.baidu.com/s?wd=" + param, "_blank")
}

function onLoad() {
let request = new XMLHttpRequest();
request.open("get", "favorite.json");
request.responseType = "text";
request.send();
request.onload = function() {
let table = document.getElementById("favoriteTable");
let data = request.response;
let root = JSON.parse(data);
let categories = root["categories"];
let row;
for (let i = 0; i < categories.length; ++i) {
let category = categories[i];
if (i % 4 == 0) {
row = table.insertRow(i / 4);
}
let cell = row.insertCell(0);
let sel = document.createElement("select");
cell.appendChild(sel);
sel.addEventListener("change", function() {
window.open(sel.value, "_blank");
sel.selectedIndex = 0;
});
let head = document.createElement("option");
sel.appendChild(head);
head.text = category.name;
head.disabled = true;
head.selected = true;
let sites = category.sites;
for (let i = 0; i < sites.length; ++i) {
let site = sites[i];
let op = document.createElement("option");
sel.appendChild(op);
op.value = site.url;
op.text = site.title;
}
}
};
}
</script>

<link rel="stylesheet" href="navi.css">
</head>

<body onload="onLoad()">

<div>
<input id="searchKey" class="search-input" type="text" placeholder="Search Something" onkeyup="if (event.keyCode == 13) { toGoogle() }">
<button class="common-button" onclick="toGoogle()">谷歌</button>
<button class="common-button" onclick="toBing()">必应</button>
<button class="common-button" onclick="toBaidu()">百度</button>
</div>

<div>
<h2>常用网址</h2>
<table>
<tr>
<td><a href="https://aplus.huya.com/#/home/buildProject/index" target="_blank">构建系统</a></td>
<td><a href="https://ermao.live/" target="_blank">我的博客</a></td>
<td><a href="https://github.com/" target="_blank">github</a></td>
<td><a href="https://stackoverflow.com/" target="_blank">stackoverflow</a></td>
<td><a href="https://en.cppreference.com/w/" target="_blank">cppreference</a></td>
<td><a href="https://www.ffmpeg.org/documentation.html" target="_blank">Ffmpeg文档</a></td>
</tr>
<tr>
<td><a href="https://tech.sina.com.cn/" target="_blank">新浪科技</a></td>
<td><a href="https://maimai.cn/gossip_list" target="_blank">脉脉</a></td>
</tr>
<tr>
<td><a href="https://www.zhihu.com/" target="_blank">知乎</a></td>
<td><a href="https://weibo.com/liangzuoting/home?wvr=5" target="_blank">微博</a></td>
<td><a href="https://v.qq.com/" target="_blank">腾讯视频</a></td>
<td><a href="https://www.youku.com/" target="_blank">优酷</a></td>
<td><a href="https://www.douyu.com/62081" target="_blank">叶落直播间</a></td>
<td><a href="https://www.huya.com/11352915" target="_blank">老白涮肉坊</a></td>
</tr>
<tr>
<td><a href="https://www.tmall.com/" target="_blank">天猫</a></td>
<td><a href="https://www.taobao.com/" target="_blank">淘宝</a></td>
<td><a href="https://www.ctrip.com/" target="_blank">携程</a></td>
</tr>
</table>
<hr>
</div>

<div>
<h2>收藏夹</h2>
<table id="favoriteTable">
</table>
<hr>
</div>
</body>

</html>